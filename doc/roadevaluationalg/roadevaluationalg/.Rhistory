#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
# full_planning_results$id <- paste(full_planning_results$路段名称,full_planning_results$段标志头,full_planning_results$起点桩号,full_planning_results$方向或方位,full_planning_results$车道编号,sep = "-")
# #分组规划函数
# segment_plannning <- function(one_row,latest_year){
#   n <- 20#规划期
#   iri_initial <- one_row$IRI;#IRI初始值
#   level <- one_row$技术等级;#技术等级
#   iri_annual_increase <- one_row$iri_annual_increase;#IRI年增量
#   one_row <- dplyr::slice(.data = one_row,rep(1:dplyr::n(), each = n))
#   one_row$数据年份 <- rep(1:n)+latest_year
#   #各措施对应的IRI触发阈值
rm(list=ls())
library(readxl)
library(writexl)
library(dplyr)
library(purrr)
library(parallel)
library(foreach)
library(plot3D)
library(ggplot2)
library(reshape2)
library(data.table)
library(iterators)
library(doParallel)
library(plot3D)
t1 <- Sys.time()
#读取数据
static <- read_excel(path = '/Users/zhenghong/Documents/GitHub/roadevaluationalg/data/道路静态数据-运营集团.xlsx',col_types = c(rep("text",2),rep("numeric",2),rep("text",2),rep("numeric",2),rep("text",3),rep("numeric",3),rep("text",2),rep(c("text","numeric"),7),"text","date","numeric"))
View(static)
dynamic <- read_excel(path = '/Users/zhenghong/Documents/GitHub/roadevaluationalg/data/初始动态数据.xlsx',col_types = c(rep("text",2),rep("numeric",2),rep("text",2),rep("numeric",2),rep("text",3),rep("numeric",15),"date"))
history <- read_excel(path = '/Users/zhenghong/Documents/GitHub/roadevaluationalg/data/外环完整养护历史2011-2024.xlsx')
lane_traffic <- read_excel(path = '/Users/zhenghong/Documents/GitHub/roadevaluationalg/data/外环交通量数据-车道级.xlsx')
section_traffic <- read_excel(path = '/Users/zhenghong/Documents/GitHub/roadevaluationalg/data/外环交通量数据-断面级.xlsx')
##限定到外环北段
section_limits <- function(data,section_code,start){
tmp1 <- pmin(data$起点桩号,data$止点桩号)
tmp2 <- pmax(data$起点桩号,data$止点桩号)
data$起点桩号 <- tmp1;data$止点桩号 <- tmp2
return(data[which(data$路线代码==section_code & data$起点桩号>=start),])
}
static <- section_limits(static,"S20",79.317)
dynamic <- section_limits(dynamic,"S20",79.317)
View(static)
View(dynamic)
止点桩号
static <- section_limits(static,"S20",79.317)
dynamic <- section_limits(dynamic,"S20",79.317)
#连接动静态数据
head <- unique(c(static$起点桩号,static$止点桩号,dynamic$起点桩号,dynamic$止点桩号))
head <- sort(head)
head <- data.frame(起点桩号=head[1:length(head)-1],止点桩号=head[2:length(head)])#起点桩号、止点桩号
View(section_limits)
